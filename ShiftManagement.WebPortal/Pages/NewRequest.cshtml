@page
@model ShiftManagement.WebPortal.Pages.NewRequestModel
@inject ShiftManagement.WebPortal.Services.IViewDataService viewDataService
@{
    ViewData["Title"] = "Member States' Technical Cooperation Tracking System";
}
@Html.AntiForgeryToken()
<form id="newRequestForm">
<div class="col-xl-12 mx-auto">
    <h6 class="mb-0 text-uppercase">Request Submission</h6>
    <hr />
    <div class="card border-top border-0 border-4 border-primary">
        <div class="card-body p-5">
            <div class="card-title d-flex align-items-center">
                <div>
                    <i class="bx bx-book-add me-1 font-22 text-primary"></i>
                </div>
                <h5 class="mb-0 text-primary">New Request</h5>
            </div>
            <hr>
            <div class="row g-3">  
                <div class="col-sm-12 col-xs-12 col-md col-lg" id="divRequestNumber">
                    <label for="inputRequestNumber" class="form-label">Request Number</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent"><i class='bx bxs-calendar'></i></span>
                        <input class="form-control" id="inputRequestNumber" type="text" placeholder="Request Number" aria-label="Request Number" disabled>
                    </div>
                </div>
                <div class="col-sm-12 col-xs-12 col-md col-lg">
                    <label for="inputReceivedOn" class="form-label">Received On</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent"><i class='bx bxs-calendar'></i></span>
                            <input class="result form-control" type="text" id="date" placeholder="Received On Date">
                    </div>
                </div>
                <div class="col-sm-12 col-xs-12 col-md col-lg ">
                    <label for="inputTypeOfRequest" class="form-label">Type Of Request</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent"><i class='bx bx-chevron-right-square'></i></span>
                        <select id="inputTypeOfRequest" class="form-select">                            
                            @foreach (var requestType in viewDataService.TypeOfRequest)
                            {
                                <option value="@requestType.Value">@requestType.Text</option>
                            }
                        </select>
                    </div>
                </div>
            @* </div> *@
            @* <h6 class="mb-0 text-uppercase">Request Details</h6> *@
           @*  <div class="mt-3">
                <div class="card-title d-flex align-items-center">
                    <div>
                        <i class="bx bx-list-ul me-1 font-22 text-primary"></i>
                    </div>
                    <h5 class="mb-0 text-primary">Request Details</h5>
                </div>            
            </div> *@
            @* <div class="row g-3"> *@
                <div class="col-12">
                    <label class="form-label">Requesting Country</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent"><i class='bx bx-chevron-right-square'></i></span>
                        <select class="multiple-select" id="inputCountry" data-placeholder="Choose country" multiple="multiple">
                            @foreach (var countryMaster in viewDataService.CountryMaster)
                            {
                                <option value="@countryMaster.Value">@countryMaster.Text</option>
                            }
                        </select>
                    </div>
                </div>
                <div class="col-md-4">
                    <label for="inputLLDC" class="form-label">LLDC (Landlocked Developing Countries)</label>
                    <div class="input-group form-control">
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadioLldcYes" value="Yes">
                            <label class="form-check-label" for="inlineRadioLldcYes">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadioLldcNo" value="No">
                            <label class="form-check-label" for="inlineRadioLldcNo">No</label>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <label for="inputSubprogramme" class="form-label">Subprogramme</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent"><i class='bx bx-list-ul'></i></span>
                        <select id="inputSubprogramme" class="form-select" aria-label="Subprogramme">
                            @foreach (var subprogramme in viewDataService.SubProgramme)
                            {
                                <option value="@subprogramme.Value">@subprogramme.Text</option>
                            }
                        </select>
                    </div>
                </div>

                <div class="col-md-4">
                    <label for="inputStaffResponsible" class="form-label">Staff Responsible for Implementation</label>
                    <div class="input-group">
                        <span class="input-group-text bg-transparent"><i class='bx bxs-user'></i></span>
                        <input class="form-select" list="inputStaffResponsibleList" id="inputStaffResponsible" placeholder="Type to search...">
                        <datalist id="inputStaffResponsibleList">                           
                            @foreach (var staffMaster in viewDataService.StaffMaster)
                            {
                                //<option value="@staffMaster.Value">@staffMaster.Text</option>
                                <option>@staffMaster.Text</option>
                            }
                        </datalist>
                    </div>
                </div>

                <div class="col-md-6">
                    <label for="inputFrom" class="form-label">From</label>
                    <textarea class="form-control" id="inputFrom" placeholder="(Ministry, RC, etc.)" rows="1"></textarea>
                </div>
                <div class="col-md-6">
                    <label for="inputAddressTo" class="form-label">Addressed To</label>
                    <textarea class="form-control" id="inputAddressTo" placeholder="(For Letters)" rows="1"></textarea>
                </div>
                <div class="col-12">
                    <label for="inputSummaryOfRequest" class="form-label">Summary of Request </label>
                    <textarea class="form-control" id="inputSummaryOfRequest" placeholder="(Area/Topic)" rows="3"></textarea>
                </div>
                <div id="divBtnSubmitNewRequest" class="col-12">
                    <button id="btnSubmitNewRequest" type="button" class="btn btn-primary px-5">Submit Request</button>
                </div>
                <div class="form-group row m-0 mb-3">
                    <div class="col-sm-12">
                        <span id="new-request-validation" class="text-danger hide"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>  
    <div id="divResponseDetails" class="">
        <h6 class="mb-0 text-uppercase">Response Details</h6>
        <hr />
        <div class="card border-top border-0 border-4 border-primary">
            <div class="card-body p-5">
                <div class="row g-3">
                    <div class="col-md-4">
                        <label for="inputResponded" class="form-label">Responded</label>
                        <div class="input-group form-control align-items-center">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="inlineRadioOptionsResponded" id="inlineRadioRespondedYes" value="Yes">
                                <label class="form-check-label" for="inlineRadioRespondedYes">Yes</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="inlineRadioOptionsResponded" id="inlineRadioRespondedNo" value="No">
                                <label class="form-check-label" for="inlineRadioRespondedNo">No</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="inputRespondedThrough" class="form-label">Responded Through</label>
                        <div class="input-group">
                            <span class="input-group-text bg-transparent"><i class='bx bxs-user'></i></span>

                            <select id="inputRespondedThrough" class="form-select border-start-0">
                                <option selected>Choose...</option>
                                <option value="1">RPTC (Regional Programme Technical Cooperation)</option>
                                <option value="2">UNDA (United Nations Development Assistance)</option>
                                <option value="3">XB (Other, with a free-text option)</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="inputResponseYear" class="form-label">Year of Response</label>
                        <div class="input-group">
                            <span class="input-group-text bg-transparent"><i class='bx bxs-calendar'></i></span>
                            <input id="inputResponseYear" class="form-control border-start-0" type="number" min="1900" max="@DateTime.Now.Year" value="@DateTime.Now.Year" placeholder="Year" aria-label="Year">
                        </div>
                    </div>
                    <div class="col-12">
                        <label for="inputResponseDetails" class="form-label">Details</label>
                        <textarea class="form-control" id="inputResponseDetails" placeholder="Enter details if any..." rows="3"></textarea>
                    </div>
                    <div id="divBtnSubmitResponse" class="col-12">
                        <button id="btnSubmitResponse" type="button" class="btn btn-primary px-5">Save Response</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</form>

@section Scripts
{
    <script type="text/javascript">
        let edit_Value = @ViewData["EditValue"];
    </script>
    <script src="~/js/newRequestPage.js" asp-append-version="true"></script>

}